import{d as f,e as v,f as S,g as y,a as i,o as p,c as d,b as t,F as b,r as F,n as m,u as n,t as u,p as x,h as I,i as B,_ as k}from"./index.8359fef4.js";const w=s=>(x("data-v-1ee25c93"),s=s(),I(),s),D={class:"ip"},C={class:"date"},E={class:"ctx"},T=w(()=>t("input",{type:"text",maxlength:"28",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9\uFF01\uFF01\uFF01",id:"message"},null,-1)),z={class:"tip"},L=f({__name:"message",setup(s){let a=v([]),g=[];for(let e=0;e<20;e++)g.push(String(Math.random()*10+10));let c,_=S(()=>B().state.flag3);y(()=>{i.get("http://www.sungods.xyz/api/blog/message").then(e=>{a.value=e.data}),localStorage.getItem("user")||localStorage.setItem("user",String(new Date().getTime()))});const h=()=>{const e=document.getElementById("message");e.value!=""&&(a.value.unshift({user:localStorage.getItem("user"),time:new Date().toLocaleString(),message:e.value}),i.defaults.headers["Content-Type"]="application/json",i.post("/api/blog/message",a[0]).then(o=>{c=o.data}),setTimeout(()=>{c=""},2e4),e.value="")};return(e,o)=>(p(),d("div",{class:"box",style:m(n(_)?"color:black":"background-color:rgba(0,0,0,0.5);color:aliceblue")},[t("ul",null,[(p(!0),d(b,null,F(n(a),(l,r)=>(p(),d("li",{key:r,style:m({top:r%10*8+"%",animationDuration:n(g)[r]+10+"s"})},[t("span",D,u(l.user),1),t("span",C,u(l.time),1),t("span",E,u(l.message),1)],4))),128))]),T,t("div",{class:"submit",onClick:o[0]||(o[0]=l=>h())},"\u63D0\u4EA4"),t("span",z,u(n(c)),1)],4))}});const j=k(L,[["__scopeId","data-v-1ee25c93"]]);export{j as default};
